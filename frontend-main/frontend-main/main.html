<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="/css/main.css">
  <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css">
  <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
  <title>Document</title>
</head>




<body>
  <main>
    <main class="mainContainer">
      <article class="slider">
        <div class="swiper-container">
          <ul class="swiper-wrapper">
            <li class="swiper-slide"><img src="/img/manchestercity.png" alt="Image 1" /></li>
            <li class="swiper-slide"><img src="/img/realmadrid.png" alt="Image 2" /></li>
          </ul>
          <div class="swiper-button-next"></div>
          <div class="swiper-button-prev"></div>
          <div class="swiper-pagination"></div>
        </div>
      </article>



      <article class="itemProduct">
        <div class="best">
          <h2 class="ProductTitle">
            BEST ITEM
            <span class="aaa">인기 제품을 여기서 한눈에 보세요</span>
          </h2>
          <div class="board_list_body" id="bestItemContainer">

          </div>
          <div class="more">
            <button class="moreBtn" id="bestMoreBtn">더보기</button>
          </div>
        </div>
      </article>


      <article class="itemProduct">
        <div class="best">
          <h2 class="ProductTitle">
            NEW ITEM
            <span class="aaa">새 제품을 여기서 한눈에 보세요</span>
          </h2>
          <div class="board_list_body" id="newitemContainer">

          </div>
          <div class="more">
            <button class="moreBtn" id="newMoreBtn">더보기</button>
          </div>
        </div>
      </article>

      <article class="teamProduct">
        <div class="styleflame">
          <div class="stylehead">
            <h2 class="ProductTitle">
              STYLE
              <span class="aaa">다양한 착용샷을 한눈에 보세요</span>
            </h2>
            <div class="flame-controls">
              <button id="prevSlide">◀</button>
              <button id="nextSlide">▶</button>
            </div>
          </div>

          <div class="flame-swiper-container">
            <ul class="flameWrapper" id="swiper-wrapper">
              <li class="swiperSlideItem">
                <div class="detail_page_review_list_item_img">
                  <img
                    src="https://cafe24.poxo.com/ec01/enemy0000/fYw07Q+e08011Z5Qzbz300jECh5aaMmmDMQ7QH7NAQ9NK2EXhqgvmfbzfda0mDNO/Jp2ZgYE1irrrDpzeiP8fA==/_/web/product/big/202411/7d090c9573a58fe7fb7553e5cc8ea5b2.jpg"
                    alt="">
                </div>
                <div class="detail_page_review_content">

                  <div class="detail_page_review_title">
                    <img src="https://fakeimg.pl/26x26/" alt="" class="detail_page_review_title_img">
                    <span class="detail_page_review_title_id">아이디</span>
                    <span class="detail_page_review_title_like">♡4</span>
                    <!-- 하트 이미지 다시 넣기  -->
                  </div>
                  <p class="detail_page_review_body_tag">#겨울코디추천 #겨울코디추천 #아우터추천 #연말선물 #연말룩 #사이즈팁 #KICKS
                  </p>
                </div>
              </li>

              <li class="swiperSlideItem">
                <div class="detail_page_review_list_item_img">
                  <img
                    src="https://cafe24.poxo.com/ec01/enemy0000/fYw07Q+e08011Z5Qzbz300jECh5aaMmmDMQ7QH7NAQ9NK2EXhqgvmfbzfda0mDNO/Jp2ZgYE1irrrDpzeiP8fA==/_/web/product/big/202411/7d090c9573a58fe7fb7553e5cc8ea5b2.jpg"
                    alt="">
                </div>
                <div class="detail_page_review_content">

                  <div class="detail_page_review_title">
                    <img src="https://fakeimg.pl/26x26/" alt="" class="detail_page_review_title_img">
                    <span class="detail_page_review_title_id">아이디</span>
                    <span class="detail_page_review_title_like">♡4</span>
                    <!-- 하트 이미지 다시 넣기  -->
                  </div>
                  <p class="detail_page_review_body_tag">#겨울코디추천 #겨울코디추천 #아우터추천 #연말선물 #연말룩 #사이즈팁 #KICKS
                  </p>
                </div>
              </li>

              <li class="swiperSlideItem">
                <div class="detail_page_review_list_item_img">
                  <img
                    src="https://cafe24.poxo.com/ec01/enemy0000/fYw07Q+e08011Z5Qzbz300jECh5aaMmmDMQ7QH7NAQ9NK2EXhqgvmfbzfda0mDNO/Jp2ZgYE1irrrDpzeiP8fA==/_/web/product/big/202411/7d090c9573a58fe7fb7553e5cc8ea5b2.jpg"
                    alt="">
                </div>
                <div class="detail_page_review_content">

                  <div class="detail_page_review_title">
                    <img src="https://fakeimg.pl/26x26/" alt="" class="detail_page_review_title_img">
                    <span class="detail_page_review_title_id">아이디</span>
                    <span class="detail_page_review_title_like">♡4</span>
                    <!-- 하트 이미지 다시 넣기  -->
                  </div>
                  <p class="detail_page_review_body_tag">#겨울코디추천 #겨울코디추천 #아우터추천 #연말선물 #연말룩 #사이즈팁 #KICKS
                  </p>
                </div>
              </li>

              <li class="swiperSlideItem">
                <div class="detail_page_review_list_item_img">
                  <img
                    src="https://cafe24.poxo.com/ec01/enemy0000/fYw07Q+e08011Z5Qzbz300jECh5aaMmmDMQ7QH7NAQ9NK2EXhqgvmfbzfda0mDNO/Jp2ZgYE1irrrDpzeiP8fA==/_/web/product/big/202411/7d090c9573a58fe7fb7553e5cc8ea5b2.jpg"
                    alt="">
                </div>
                <div class="detail_page_review_content">

                  <div class="detail_page_review_title">
                    <img src="https://fakeimg.pl/26x26/" alt="" class="detail_page_review_title_img">
                    <span class="detail_page_review_title_id">아이디</span>
                    <span class="detail_page_review_title_like">♡4</span>
                    <!-- 하트 이미지 다시 넣기  -->
                  </div>
                  <p class="detail_page_review_body_tag">#겨울코디추천 #겨울코디추천 #아우터추천 #연말선물 #연말룩 #사이즈팁 #KICKS
                  </p>
                </div>
              </li>

              <li class="swiperSlideItem">
                <div class="detail_page_review_list_item_img">
                  <img
                    src="https://cafe24.poxo.com/ec01/enemy0000/fYw07Q+e08011Z5Qzbz300jECh5aaMmmDMQ7QH7NAQ9NK2EXhqgvmfbzfda0mDNO/Jp2ZgYE1irrrDpzeiP8fA==/_/web/product/big/202411/7d090c9573a58fe7fb7553e5cc8ea5b2.jpg"
                    alt="">
                </div>
                <div class="detail_page_review_content">

                  <div class="detail_page_review_title">
                    <img src="https://fakeimg.pl/26x26/" alt="" class="detail_page_review_title_img">
                    <span class="detail_page_review_title_id">아이디</span>
                    <span class="detail_page_review_title_like">♡4</span>
                    <!-- 하트 이미지 다시 넣기  -->
                  </div>
                  <p class="detail_page_review_body_tag">#겨울코디추천 #겨울코디추천 #아우터추천 #연말선물 #연말룩 #사이즈팁 #KICKS
                  </p>
                </div>
              </li>

              <li class="swiperSlideItem">
                <div class="detail_page_review_list_item_img">
                  <img
                    src="https://cafe24.poxo.com/ec01/enemy0000/fYw07Q+e08011Z5Qzbz300jECh5aaMmmDMQ7QH7NAQ9NK2EXhqgvmfbzfda0mDNO/Jp2ZgYE1irrrDpzeiP8fA==/_/web/product/big/202411/7d090c9573a58fe7fb7553e5cc8ea5b2.jpg"
                    alt="">
                </div>
                <div class="detail_page_review_content">

                  <div class="detail_page_review_title">
                    <img src="https://fakeimg.pl/26x26/" alt="" class="detail_page_review_title_img">
                    <span class="detail_page_review_title_id">아이디</span>
                    <span class="detail_page_review_title_like">♡4</span>
                    <!-- 하트 이미지 다시 넣기  -->
                  </div>
                  <p class="detail_page_review_body_tag">#겨울코디추천 #겨울코디추천 #아우터추천 #연말선물 #연말룩 #사이즈팁 #KICKS
                  </p>
                </div>
              </li>

              <li class="swiperSlideItem">
                <div class="detail_page_review_list_item_img">
                  <img
                    src="https://cafe24.poxo.com/ec01/enemy0000/fYw07Q+e08011Z5Qzbz300jECh5aaMmmDMQ7QH7NAQ9NK2EXhqgvmfbzfda0mDNO/Jp2ZgYE1irrrDpzeiP8fA==/_/web/product/big/202411/7d090c9573a58fe7fb7553e5cc8ea5b2.jpg"
                    alt="">
                </div>
                <div class="detail_page_review_content">

                  <div class="detail_page_review_title">
                    <img src="https://fakeimg.pl/26x26/" alt="" class="detail_page_review_title_img">
                    <span class="detail_page_review_title_id">아이디</span>
                    <span class="detail_page_review_title_like">♡4</span>
                    <!-- 하트 이미지 다시 넣기  -->
                  </div>
                  <p class="detail_page_review_body_tag">#겨울코디추천 #겨울코디추천 #아우터추천 #연말선물 #연말룩 #사이즈팁 #KICKS
                  </p>
                </div>
              </li>

              <li class="swiperSlideItem">
                <div class="detail_page_review_list_item_img">
                  <img
                    src="https://cafe24.poxo.com/ec01/enemy0000/fYw07Q+e08011Z5Qzbz300jECh5aaMmmDMQ7QH7NAQ9NK2EXhqgvmfbzfda0mDNO/Jp2ZgYE1irrrDpzeiP8fA==/_/web/product/big/202411/7d090c9573a58fe7fb7553e5cc8ea5b2.jpg"
                    alt="">
                </div>
                <div class="detail_page_review_content">

                  <div class="detail_page_review_title">
                    <img src="https://fakeimg.pl/26x26/" alt="" class="detail_page_review_title_img" />
                    <span class="detail_page_review_title_id">아이디</span>
                    <span class="detail_page_review_title_like">♡4</span>
                    <!-- 하트 이미지 다시 넣기  -->
                  </div>
                  <p class="detail_page_review_body_tag">#겨울코디추천 #겨울코디추천 #아우터추천 #연말선물 #연말룩 #사이즈팁 #KICKS
                  </p>
                </div>
              </li>

            </ul>

          </div>
        </div>
      </article>
    </main>

    <script>
      const swiper = new Swiper('.swiper-container', {
        loop: true,
        autoplay: {
          delay: 3000,
        },
        navigation: {
          nextEl: '.swiper-button-next',
          prevEl: '.swiper-button-prev',
        },
        pagination: {
          el: '.swiper-pagination',
          clickable: true, // dots 클릭 가능
        },
      });

      const sliderWrapper = document.getElementById("swiper-wrapper");
      const prevButton = document.getElementById("prevSlide");
      const nextButton = document.getElementById("nextSlide");

      // 슬라이드 설정
      let currentIndex = 0; // 현재 슬라이드 인덱스
      const slideWidth = 308; // 슬라이드 너비 + margin-left 값
      const visibleSlides = 4; // 한 번에 보이는 슬라이드 수
      const totalSlides = sliderWrapper.children.length; // 전체 슬라이드 개수
      const maxIndex = totalSlides - visibleSlides; // 최대 인덱스 (넘어가면 빈 공간 발생)

      // 슬라이드 이동 함수
      function updateSliderPosition() {
        const offset = -(currentIndex * slideWidth); // 이동할 위치 계산
        sliderWrapper.style.transform = `translateX(${offset}px)`;
        const currentPage = currentIndex + 1; // 현재 슬라이드 번호
      }

      // 이전 버튼 클릭 이벤트
      prevButton.addEventListener("click", () => {
        if (currentIndex > 0) {
          currentIndex -= 1; // 이전 슬라이드로 이동
          updateSliderPosition();
        }
      });

      // 다음 버튼 클릭 이벤트
      nextButton.addEventListener("click", () => {
        if (currentIndex < maxIndex) {
          currentIndex += 1; // 다음 슬라이드로 이동
          updateSliderPosition();
        }
      });

      // 초기 슬라이드 위치 업데이트
      updateSliderPosition();



      document.addEventListener("DOMContentLoaded", () => {
        const bestContainer = document.getElementById("bestItemContainer");
        const newContainer = document.getElementById("newitemContainer");
        const bestMoreBtn = document.getElementById("bestMoreBtn");
        const newMoreBtn = document.getElementById("newMoreBtn");

        const items = [
          {
            id: 1,
            image: "/img/ACuniform.jpg",
            title: "ADIDAS 아르헨티나 1994 RETRO AWAY #10 (XS~2XL)",
            soldCount: 120,
            originalPrice: 209000,
            discountedPrice: 99000,
            discountRate: 53,
            description: "Official Licensed Product"
          },
          {
            id: 2,
            image: "/img/ALUniform.avif",
            title: "NIKE 브라질 2002 홈 유니폼 #9 (S~L)",
            soldCount: 200,
            originalPrice: 199000,
            discountedPrice: 129000,
            discountRate: 35,
            description: "Official Replica Jersey"
          },
          {
            id: 3,
            image: "/img/MCUuniform.avif",
            title: "MAN UTD 2008 HOME KIT #7 (M~XL)",
            soldCount: 80,
            originalPrice: 219000,
            discountedPrice: 149000,
            discountRate: 32,
            description: "Official Replica Jersey"
          },
          {
            id: 4,
            image: "/img/CFCuniform.avif",
            title: "CHELSEA 2020 AWAY KIT #10 (S~L)",
            soldCount: 250,
            originalPrice: 179000,
            discountedPrice: 119000,
            discountRate: 34,
            description: "Official Replica Jersey"
          },
          {
            id: 5,
            image: "/img/BarcelonaUniform.jpg",
            title: "FC BARCELONA 2021 HOME KIT #9 (M~XL)",
            soldCount: 500,
            originalPrice: 189000,
            discountedPrice: 129000,
            discountRate: 31,
            description: "Official Replica Jersey"
          },
          {
            id: 6,
            image: "/img/PSGuniform.avif",
            title: "PSG 2022 HOME KIT #30 (M~L)",
            soldCount: 300,
            originalPrice: 229000,
            discountedPrice: 159000,
            discountRate: 30,
            description: "Official Replica Jersey"
          },
          {
            id: 7,
            image: "/img/RealMadridUnifom.avif",
            title: "REAL MADRID 2020 AWAY KIT #7 (S~L)",
            soldCount: 110,
            originalPrice: 199000,
            discountedPrice: 129000,
            discountRate: 35,
            description: "Official Replica Jersey"
          },
          {
            id: 8,
            image: "/img/Juniform.avif",
            title: "JUVENTUS 2019 HOME KIT #10 (M~XL)",
            soldCount: 190,
            originalPrice: 209000,
            discountedPrice: 139000,
            discountRate: 34,
            description: "Official Replica Jersey"
          },
          {
            id: 9,
            image: "/img/MCCuniform.avif",
            title: "JUVENTUS 2009 HOME KIT #11 (M~XL)",
            soldCount: 90,
            originalPrice: 109000,
            discountedPrice: 0,
            discountRate: 0,
            description: "Official Replica Jersey"
          }
        ];

        let bestIndex = 0;
        let newIndex = 0;

        // 판매수 기준으로 내림차순 정렬
        const sortedBySales = [...items].sort((a, b) => b.soldCount - a.soldCount);
        // NEW ITEM을 id 역순으로 정렬
        const sortedByIdDesc = [...items].sort((a, b) => b.id - a.id);

        // BEST ITEM 아이템 추가 함수
        function loadBestItems() {
          const itemsToShow = sortedBySales.slice(bestIndex, bestIndex + 8); // 팔린 수 기준 8개 아이템 가져오기
          itemsToShow.forEach(item => {
            console.log(item.discountedPrice, item.discountRate);
            const discountedPrice = item.discountedPrice || item.originalPrice;
            const discountRate = item.discountRate || 0;
            const itemHTML = `
        <div class="item">
          <div class="board_img"><img src="${item.image}" alt="${item.title}"></div>
          <div class="board_content">
            <div class="board_title"><a href="#">${item.title}</a></div>
        <div class="board_price">
              ${discountedPrice && discountRate !== 0 ?
                `<span class="original-price" style="text-decoration: line-through;">${item.originalPrice.toLocaleString()}원</span>
                  <span class="discounted-price">${discountedPrice.toLocaleString()}원</span>
                  <span class="discount-rate">${discountRate}%</span>` :
                `<span class="original-price" style="text-decoration: none;">${item.originalPrice.toLocaleString()}원</span>`
              }
        </div>
            <div class="board_name">${item.description}</div>
          </div>
        </div>
      `;
            bestContainer.insertAdjacentHTML("beforeend", itemHTML); // innerHTML 대신 insertAdjacentHTML 사용
          });
          bestIndex += 8;
          if (bestIndex >= sortedBySales.length) {
            bestMoreBtn.style.display = "none"; // 더 이상 아이템이 없으면 '더보기' 버튼 숨김
          }
        }

        // NEW ITEM 아이템 추가 함수
        function loadNewItems() {
          const itemsToShow = sortedByIdDesc.slice(newIndex, newIndex + 8); // id 역순 기준 8개 아이템 가져오기
          itemsToShow.forEach(item => {
            const discountedPrice = item.discountedPrice || item.originalPrice;
            const discountRate = item.discountRate || 0;
            const itemHTML = `
        <div class="item">
          <div class="board_img"><img src="${item.image}" alt="${item.title}"></div>
          <div class="board_content">
            <div class="board_title"><a href="#">${item.title}</a></div>
        <div class="board_price">
              ${discountedPrice && discountRate !== 0 ?
                `<span class="original-price" style="text-decoration: line-through;">${item.originalPrice.toLocaleString()}원</span>
                  <span class="discounted-price">${discountedPrice.toLocaleString()}원</span>
                  <span class="discount-rate">${discountRate}%</span>` :
                `<span class="original-price" style="text-decoration: none;">${item.originalPrice.toLocaleString()}원</span>`
              }
        </div>
            <div class="board_name">${item.description}</div>
          </div>
        </div>
      `;
            newContainer.insertAdjacentHTML("beforeend", itemHTML); // innerHTML 대신 insertAdjacentHTML 사용
          });
          newIndex += 8;
          if (newIndex >= sortedByIdDesc.length) {
            newMoreBtn.style.display = "none"; // 더 이상 아이템이 없으면 '더보기' 버튼 숨김
          }
        }

        // 페이지 로드 시 각각 8개씩 아이템을 로드
        loadBestItems();
        loadNewItems();

        // "BEST ITEM 더보기" 버튼 클릭 시 추가 아이템 로드
        bestMoreBtn.addEventListener("click", loadBestItems);

        // "NEW ITEM 더보기" 버튼 클릭 시 추가 아이템 로드
        newMoreBtn.addEventListener("click", loadNewItems);
      });


    </script>

</body>

</html>