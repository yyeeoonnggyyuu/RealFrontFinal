<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="/CSS/NewCreate.CSS">
    <script src="/JavaScript/NewCreate.js" defer></script>
</head>

<body>
    <div class="full_screen">
        <!-- 게시글 작성 폼 -->
        <form class="write_container" action="" method="post">
            <h2 class="write_header">게시글 작성</h2>

            <!-- 파일 첨부 영역 -->
            <div class="cover_form_file">
                <table>
                    <th class="table_hade">
                        <label for="file-input1">파일 선택1</label><br>
                    </th>
                    <td class="table_body">
                        <label class="select_title" for="file-input1">파일 선택</label><br>
                        <input type="file" id="file-input1" class="file-input" />
                        <div class="file-name">선택된 파일 없음</div>
                        <button class="file_plus_button" type="button">+</button>
                    </td>
                </table>
            </div>

            <!-- 동적으로 추가된 파일 첨부 영역이 들어갈 곳 -->
            <div class="form_file_plus"></div>

            <!-- 나머지 폼 항목들 ... -->
        </form>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const filePlusButton = document.querySelector('.file_plus_button');
            const formFilePlus = document.querySelector('.form_file_plus');
            let fileCount = 1; // 파일 첨부 항목의 초기 개수는 1개 (첫 번째 파일 선택 항목)

            // 파일 첨부 항목을 동적으로 추가하는 기능
            filePlusButton.addEventListener('click', function() {
                if (fileCount < 5) { // 파일 첨부 항목이 5개 미만일 경우에만 추가
                    const newItemDiv = document.createElement('div');
                    newItemDiv.classList.add('item');

                    newItemDiv.innerHTML = `
                        <table>
                            <th class="table_hade">
                                <label for="file-input">파일 선택</label><br>
                            </th>
                            <td class="table_body">
                                <label class="select_title" for="file-input">파일 선택</label><br>
                                <input type="file" class="file-input" />
                                <div class="file-name">선택된 파일 없음</div>
                                <button class="file_minus_button" type="button">-</button>
                            </td>
                        </table>
                    `;

                    // 추가된 항목 삭제 버튼 기능
                    newItemDiv.querySelector('.file_minus_button').addEventListener('click', function() {
                        newItemDiv.remove(); // 해당 항목 삭제
                        fileCount--; // 삭제 시 파일 개수 감소
                    });

                    // 동적으로 생성된 항목을 form_file_plus에 추가
                    formFilePlus.appendChild(newItemDiv);
                    fileCount++; // 새로운 항목이 추가되면 파일 개수 증가
                } else {
                    alert("파일 첨부는 최대 5개까지 가능합니다.");
                }
            });
        });
    </script>
</body>

</html>
